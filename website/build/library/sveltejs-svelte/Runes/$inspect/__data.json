{"type":"data","nodes":[{"type":"data","data":[null],"uses":{}},{"type":"data","data":[{"libraryName":1,"itemPath":2,"docItem":3},"sveltejs-svelte","Runes/$inspect",{"type":4,"path":5,"relevant":6,"token_counts":7,"usage":11,"markdown":15},"page","02-runes/07-$inspect.md",true,{"fulltext":8,"digest":9,"short_digest":10},1120,354,145,{"input":12,"output":13,"details":14},2159,603,null,{"fulltext":16,"digest":17,"short_digest":18,"essence":19},"---\ntitle: $inspect\n---\n\n> [!NOTE] `$inspect` only works during development. In a production build it becomes a noop.\n\nThe `$inspect` rune is roughly equivalent to `console.log`, with the exception that it will re-run whenever its argument changes. `$inspect` tracks reactive state deeply, meaning that updating something inside an object or array using fine-grained reactivity will cause it to re-fire ([demo](/playground/untitled#H4sIAAAAAAAACkWQ0YqDQAxFfyUMhSotdZ-tCvu431AXtGOqQ2NmmMm0LOK_r7Utfby5JzeXTOpiCIPKT5PidkSVq2_n1F7Jn3uIcEMSXHSw0evHpAjaGydVzbUQCmgbWaCETZBWMPlKj29nxBDaHj_edkAiu12JhdkYDg61JGvE_s2nR8gyuBuiJZuDJTyQ7eE-IEOzog1YD80Lb0APLfdYc5F9qnFxjiKWwbImo6_llKRQVs-2u91c_bD2OCJLkT3JZasw7KLA2XCX31qKWE6vIzNk1fKE0XbmYrBTufiI8-_8D2cUWBA_AQAA)):\n\n```svelte\n\u003Cscript>\n\tlet count = $state(0);\n\tlet message = $state('hello');\n\n\t$inspect(count, message); // will console.log when `count` or `message` change\n\u003C/script>\n\n\u003Cbutton onclick={() => count++}>Increment\u003C/button>\n\u003Cinput bind:value={message} />\n```\n\n## $inspect(...).with\n\n`$inspect` returns a property `with`, which you can invoke with a callback, which will then be invoked instead of `console.log`. The first argument to the callback is either `\"init\"` or `\"update\"`; subsequent arguments are the values passed to `$inspect` ([demo](/playground/untitled#H4sIAAAAAAAACkVQ24qDMBD9lSEUqlTqPlsj7ON-w7pQG8c2VCchmVSK-O-bKMs-DefKYRYx6BG9qL4XQd2EohKf1opC8Nsm4F84MkbsTXAqMbVXTltuWmp5RAZlAjFIOHjuGLOP_BKVqB00eYuKs82Qn2fNjyxLtcWeyUE2sCRry3qATQIpJRyD7WPVMf9TW-7xFu53dBcoSzAOrsqQNyOe2XUKr0Xi5kcMvdDB2wSYO-I9vKazplV1-T-d6ltgNgSG1KjVUy7ZtmdbdjqtzRcphxMS1-XubOITJtPrQWMvKnYB15_1F7KKadA_AQAA)):\n\n```svelte\n\u003Cscript>\n\tlet count = $state(0);\n\n\t$inspect(count).with((type, count) => {\n\t\tif (type === 'update') {\n\t\t\tdebugger; // or `console.trace`, or whatever you want\n\t\t}\n\t});\n\u003C/script>\n\n\u003Cbutton onclick={() => count++}>Increment\u003C/button>\n```\n\nA convenient way to find the origin of some change is to pass `console.trace` to `with`:\n\n```js\n// @errors: 2304\n$inspect(stuff).with(console.trace);\n```\n\n## $inspect.trace(...)\n\nThis rune, added in 5.14, causes the surrounding function to be _traced_ in development. Any time the function re-runs as part of an [effect]($effect) or a [derived]($derived), information will be printed to the console about which pieces of reactive state caused the effect to fire.\n\n```svelte\n\u003Cscript>\n\timport { doSomeWork } from './elsewhere';\n\n\t$effect(() => {\n\t\t+++// $inspect.trace must be the first statement of a function body+++\n\t\t+++$inspect.trace();+++\n\t\tdoSomeWork();\n\t});\n\u003C/script>\n```\n\n`$inspect.trace` takes an optional first argument which will be used as the label.\n","## $inspect\n\nA development-only rune that logs values whenever they change, similar to `console.log` but reactive. Tracks deep changes in objects and arrays.\n\n```svelte\n\u003Cscript>\n\tlet count = $state(0);\n\tlet message = $state('hello');\n\n\t$inspect(count, message); // logs when either changes\n\u003C/script>\n\n\u003Cbutton onclick={() => count++}>Increment\u003C/button>\n\u003Cinput bind:value={message} />\n```\n\n### $inspect(...).with\n\nReturns a `with` method that accepts a callback instead of using `console.log`. The callback receives `\"init\"` or `\"update\"` as the first argument, followed by the inspected values.\n\n```svelte\n\u003Cscript>\n\tlet count = $state(0);\n\n\t$inspect(count).with((type, count) => {\n\t\tif (type === 'update') {\n\t\t\tdebugger;\n\t\t}\n\t});\n\u003C/script>\n```\n\nPass `console.trace` to find where changes originate:\n\n```js\n$inspect(stuff).with(console.trace);\n```\n\n### $inspect.trace()\n\nAdded in 5.14. Traces the surrounding function in development, printing to console which reactive state caused an effect or derived to re-run. Must be the first statement in a function body.\n\n```svelte\n\u003Cscript>\n\t$effect(() => {\n\t\t$inspect.trace();\n\t\tdoSomeWork();\n\t});\n\u003C/script>\n```\n\nAccepts an optional label argument.","## $inspect\n\nDevelopment-only rune that logs values whenever they change, tracking deep reactivity in objects and arrays.\n\n```svelte\n$inspect(count, message); // logs on change\n$inspect(count).with((type, value) => { /* custom handler */ });\n$inspect(stuff).with(console.trace); // find origin of changes\n```\n\n### $inspect.trace()\n\nTraces which reactive state caused an effect/derived to re-run. Must be first statement in function body.\n\n```svelte\n$effect(() => {\n\t$inspect.trace();\n\tdoSomeWork();\n});\n```","Development-only rune for reactive logging and tracing state changes and their origins."],"uses":{"params":["name","path"]}}]}
