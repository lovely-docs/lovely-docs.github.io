{"type":"data","nodes":[{"type":"data","data":[null],"uses":{}},{"type":"data","data":[{"libraryName":1,"itemPath":2,"docItem":3},"sveltejs-svelte","Template Syntax/transition",{"type":4,"path":5,"relevant":6,"token_counts":7,"usage":11,"markdown":15},"page","03-template-syntax/14-transition.md",true,{"fulltext":8,"digest":9,"short_digest":10},1569,709,173,{"input":12,"output":13,"details":14},2608,998,null,{"fulltext":16,"digest":17,"short_digest":18,"essence":19},"---\ntitle: transition:\n---\n\nA _transition_ is triggered by an element entering or leaving the DOM as a result of a state change.\n\nWhen a block (such as an `{#if ...}` block) is transitioning out, all elements inside it, including those that do not have their own transitions, are kept in the DOM until every transition in the block has been completed.\n\nThe `transition:` directive indicates a _bidirectional_ transition, which means it can be smoothly reversed while the transition is in progress.\n\n```svelte\n\u003Cscript>\n\t+++import { fade } from 'svelte/transition';+++\n\n\tlet visible = $state(false);\n\u003C/script>\n\n\u003Cbutton onclick={() => visible = !visible}>toggle\u003C/button>\n\n{#if visible}\n\t\u003Cdiv +++transition:fade+++>fades in and out\u003C/div>\n{/if}\n```\n\n## Local vs global\n\nTransitions are local by default. Local transitions only play when the block they belong to is created or destroyed, _not_ when parent blocks are created or destroyed.\n\n```svelte\n{#if x}\n\t{#if y}\n\t\t\u003Cp transition:fade>fades in and out only when y changes\u003C/p>\n\n\t\t\u003Cp transition:fade|global>fades in and out when x or y change\u003C/p>\n\t{/if}\n{/if}\n```\n\n## Built-in transitions\n\nA selection of built-in transitions can be imported from the [`svelte/transition`](svelte-transition) module.\n\n## Transition parameters\n\nTransitions can have parameters.\n\n(The double `{{curlies}}` aren't a special syntax; this is an object literal inside an expression tag.)\n\n```svelte\n{#if visible}\n\t\u003Cdiv transition:fade={{ duration: 2000 }}>fades in and out over two seconds\u003C/div>\n{/if}\n```\n\n## Custom transition functions\n\n```js\n/// copy: false\n// @noErrors\ntransition = (node: HTMLElement, params: any, options: { direction: 'in' | 'out' | 'both' }) => {\n\tdelay?: number,\n\tduration?: number,\n\teasing?: (t: number) => number,\n\tcss?: (t: number, u: number) => string,\n\ttick?: (t: number, u: number) => void\n}\n```\n\nTransitions can use custom functions. If the returned object has a `css` function, Svelte will generate keyframes for a [web animation](https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API).\n\nThe `t` argument passed to `css` is a value between `0` and `1` after the `easing` function has been applied. _In_ transitions run from `0` to `1`, _out_ transitions run from `1` to `0` — in other words, `1` is the element's natural state, as though no transition had been applied. The `u` argument is equal to `1 - t`.\n\nThe function is called repeatedly _before_ the transition begins, with different `t` and `u` arguments.\n\n```svelte\n\u003C!--- file: App.svelte --->\n\u003Cscript>\n\timport { elasticOut } from 'svelte/easing';\n\n\t/** @type {boolean} */\n\texport let visible;\n\n\t/**\n\t * @param {HTMLElement} node\n\t * @param {{ delay?: number, duration?: number, easing?: (t: number) => number }} params\n\t */\n\tfunction whoosh(node, params) {\n\t\tconst existingTransform = getComputedStyle(node).transform.replace('none', '');\n\n\t\treturn {\n\t\t\tdelay: params.delay || 0,\n\t\t\tduration: params.duration || 400,\n\t\t\teasing: params.easing || elasticOut,\n\t\t\tcss: (t, u) => `transform: ${existingTransform} scale(${t})`\n\t\t};\n\t}\n\u003C/script>\n\n{#if visible}\n\t\u003Cdiv in:whoosh>whooshes in\u003C/div>\n{/if}\n```\n\nA custom transition function can also return a `tick` function, which is called _during_ the transition with the same `t` and `u` arguments.\n\n> [!NOTE] If it's possible to use `css` instead of `tick`, do so — web animations can run off the main thread, preventing jank on slower devices.\n\n```svelte\n\u003C!--- file: App.svelte --->\n\u003Cscript>\n\texport let visible = false;\n\n\t/**\n\t * @param {HTMLElement} node\n\t * @param {{ speed?: number }} params\n\t */\n\tfunction typewriter(node, { speed = 1 }) {\n\t\tconst valid = node.childNodes.length === 1 && node.childNodes[0].nodeType === Node.TEXT_NODE;\n\n\t\tif (!valid) {\n\t\t\tthrow new Error(`This transition only works on elements with a single text node child`);\n\t\t}\n\n\t\tconst text = node.textContent;\n\t\tconst duration = text.length / (speed * 0.01);\n\n\t\treturn {\n\t\t\tduration,\n\t\t\ttick: (t) => {\n\t\t\t\tconst i = ~~(text.length * t);\n\t\t\t\tnode.textContent = text.slice(0, i);\n\t\t\t}\n\t\t};\n\t}\n\u003C/script>\n\n{#if visible}\n\t\u003Cp in:typewriter={{ speed: 1 }}>The quick brown fox jumps over the lazy dog\u003C/p>\n{/if}\n```\n\nIf a transition returns a function instead of a transition object, the function will be called in the next microtask. This allows multiple transitions to coordinate, making [crossfade effects](/tutorial/deferred-transitions) possible.\n\nTransition functions also receive a third argument, `options`, which contains information about the transition.\n\nAvailable values in the `options` object are:\n\n- `direction` - one of `in`, `out`, or `both` depending on the type of transition\n\n## Transition events\n\nAn element with transitions will dispatch the following events in addition to any standard DOM events:\n\n- `introstart`\n- `introend`\n- `outrostart`\n- `outroend`\n\n```svelte\n{#if visible}\n\t\u003Cp\n\t\ttransition:fly={{ y: 200, duration: 2000 }}\n\t\tonintrostart={() => (status = 'intro started')}\n\t\tonoutrostart={() => (status = 'outro started')}\n\t\tonintroend={() => (status = 'intro ended')}\n\t\tonoutroend={() => (status = 'outro ended')}\n\t>\n\t\tFlies in and out\n\t\u003C/p>\n{/if}\n```\n","## Transitions\n\nTransitions are triggered when elements enter or leave the DOM due to state changes. Use the `transition:` directive for bidirectional transitions that can be smoothly reversed mid-animation.\n\n```svelte\nimport { fade } from 'svelte/transition';\nlet visible = $state(false);\n\n\u003Cbutton onclick={() => visible = !visible}>toggle\u003C/button>\n{#if visible}\n  \u003Cdiv transition:fade>fades in and out\u003C/div>\n{/if}\n```\n\n### Local vs Global\n\nTransitions are local by default (only play when their block is created/destroyed). Use the `|global` modifier to make transitions play when parent blocks change:\n\n```svelte\n{#if x}\n  {#if y}\n    \u003Cp transition:fade>only when y changes\u003C/p>\n    \u003Cp transition:fade|global>when x or y change\u003C/p>\n  {/if}\n{/if}\n```\n\n### Parameters\n\nPass parameters as an object:\n\n```svelte\n\u003Cdiv transition:fade={{ duration: 2000 }}>fades over two seconds\u003C/div>\n```\n\n### Custom Transitions\n\nCreate custom transition functions that return an object with optional `delay`, `duration`, `easing`, `css`, and `tick` properties:\n\n```js\nfunction whoosh(node, params) {\n  const existingTransform = getComputedStyle(node).transform.replace('none', '');\n  return {\n    delay: params.delay || 0,\n    duration: params.duration || 400,\n    easing: params.easing || elasticOut,\n    css: (t, u) => `transform: ${existingTransform} scale(${t})`\n  };\n}\n```\n\nThe `css` function receives `t` (0 to 1 after easing) and `u` (1 - t). For in-transitions, `t` goes 0→1; for out-transitions, 1→0. Prefer `css` over `tick` for better performance.\n\nAlternatively, use a `tick` function for imperative animations:\n\n```js\nfunction typewriter(node, { speed = 1 }) {\n  const text = node.textContent;\n  const duration = text.length / (speed * 0.01);\n  return {\n    duration,\n    tick: (t) => {\n      node.textContent = text.slice(0, ~~(text.length * t));\n    }\n  };\n}\n```\n\nTransition functions receive a third `options` argument with `direction` ('in', 'out', or 'both').\n\n### Events\n\nElements with transitions dispatch: `introstart`, `introend`, `outrostart`, `outroend`\n\n```svelte\n\u003Cp\n  transition:fly={{ y: 200, duration: 2000 }}\n  onintrostart={() => (status = 'intro started')}\n  onintroend={() => (status = 'intro ended')}\n>\n  Flies in and out\n\u003C/p>\n```","## Transitions\n\nUse `transition:` directive for bidirectional animations when elements enter/leave DOM:\n\n```svelte\n\u003Cdiv transition:fade>fades in and out\u003C/div>\n\u003Cdiv transition:fade|global>plays on parent changes too\u003C/div>\n\u003Cdiv transition:fade={{ duration: 2000 }}>custom duration\u003C/div>\n```\n\nCustom transitions return object with `css` or `tick` function:\n\n```js\nfunction whoosh(node, params) {\n  return {\n    duration: 400,\n    css: (t, u) => `transform: scale(${t})`\n  };\n}\n```\n\nEvents: `introstart`, `introend`, `outrostart`, `outroend`","Transitions animate elements entering/leaving the DOM with built-in or custom functions, supporting local/global scope, parameters, and lifecycle events."],"uses":{"params":["name","path"]}}]}
