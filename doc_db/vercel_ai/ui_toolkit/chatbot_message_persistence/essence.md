Store/load chat messages with validation, server-side ID generation, and disconnect handling using createChat, loadChat, validateUIMessages, saveChat in onFinish, generateMessageId, prepareSendMessagesRequest, and consumeStream.