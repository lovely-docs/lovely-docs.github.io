**ToolLoopAgent** encapsulates LLM, tools, and loop control. Configure with `model`, `instructions`, `tools` (Zod schemas with execute functions), `stopWhen` conditions, `toolChoice`, `output` schema, `prepareStep` (dynamic per-step config), `callOptionsSchema`/`prepareCall` (runtime config). Use via `generate()`, `stream()`, or `createAgentUIStreamResponse()`. **Loop control:** built-in `stepCountIs(n)`, `hasToolCall()`, custom conditions; `prepareStep` callback modifies model/tools/messages per step; manual loop with `generateText`/`streamText` for full control. **Call options** enable type-safe runtime behavior modification (dynamic models, tool config, context injection, provider options, RAG). **Five workflow patterns:** sequential (chained steps), routing (context-based paths), parallel (concurrent tasks), orchestrator-worker (coordinator + specialists), evaluator-optimizer (feedback loops with quality gates).