Control agent loop execution with stopWhen conditions (built-in: stepCountIs, hasToolCall; custom via step inspection) and prepareStep callback to dynamically modify model, tools, messages, and settings per step; or implement manual loop with generateText/streamText for full control.