ToolLoopAgent class for encapsulating LLM config, tools, and behavior with automatic multi-step tool calling; configure model, instructions, tools, loop control (stopWhen), toolChoice, structured output; use via generate/stream/createAgentUIStreamResponse; supports TypeScript type inference for UI messages.