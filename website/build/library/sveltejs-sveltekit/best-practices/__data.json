{"type":"data","nodes":[{"type":"data","data":[null],"uses":{}},{"type":"data","data":[{"libraryName":1,"itemPath":2,"docItem":3},"sveltejs-sveltekit","best-practices",{"type":4,"path":5,"relevant":6,"token_counts":7,"usage":11,"markdown":15},"directory","40-best-practices",true,{"fulltext":8,"digest":9,"short_digest":10},1296,724,350,{"input":12,"output":13,"details":14},2410,1187,null,{"fulltext":16,"digest":17,"short_digest":18,"essence":19},"\n\n## Pages\n\n### authentication-and-authorization\nAuthentication and authorization strategies in SvelteKit: comparing sessions vs tokens, integration via server hooks, and using framework-specific libraries.\n\n**Sessions vs JWT**: Sessions are revocable but require DB queries; JWT offer better latency but can't be revoked.\n\n**SvelteKit Integration**: Check auth cookies in server hooks, store user info in `locals`.\n\n**Use framework-specific libraries** like Lucia for auth implementation.\n\n### performance\nPractical performance optimization techniques for SvelteKit apps: diagnosing issues, optimizing assets, reducing code size, improving navigation, and hosting considerations.\n\n## Built-in optimizations\n\nSvelteKit handles code-splitting, asset preloading, file hashing, request coalescing, parallel loading, data inlining, conservative invalidation, prerendering, and link preloading.\n\n## Diagnosing issues\n\nTest in preview mode (not dev). Use PageSpeed Insights, WebPageTest, or browser devtools (Lighthouse, Network, Performance tabs). Instrument slow APIs with OpenTelemetry or Server-Timing headers.\n\n## Asset optimization\n\n- **Images**: Use `@sveltejs/enhanced-img`\n- **Videos**: Compress to `.webm`/`.mp4`, lazy-load with `preload=\"none\"`, strip audio with FFmpeg\n- **Fonts**: Preload via `resolve` with `preload` filter in `handle` hook, subset fonts\n\n## Code size\n\n- Use latest Svelte version\n- Use `rollup-plugin-visualizer` to find large packages\n- Replace JS analytics with server-side (Cloudflare, Netlify, Vercel)\n- Use Partytown for third-party scripts in web workers\n- Use dynamic `import(...)` for conditional code\n\n## Navigation\n\n- Preload with link options (default enabled)\n- Return promises from `load` for streaming non-essential data\n- Avoid waterfalls: use server `load` instead of universal, combine DB queries with joins\n\n## Hosting\n\nDeploy frontend near backend or use edge deployment. Serve images from CDN. Use HTTP/2+.\n\n### icons\nBest practices for using icons in SvelteKit: prefer CSS-based approaches with Iconify, and avoid Svelte component libraries with per-icon files due to Vite optimization issues.\n\n**CSS**: Use Iconify for CSS-based icons with support for many icon sets and CSS framework plugins.\n\n**Svelte**: Avoid icon libraries with one `.svelte` file per icon as they slow down Vite's dependency optimization, especially with mixed import styles.\n\n### images\nThree approaches to image optimization: Vite's built-in asset handling, @sveltejs/enhanced-img for build-time optimization with multiple formats and sizes, and CDN-based solutions for dynamic images.\n\n## Image Optimization\n\n**Vite built-in**: Auto-processes imported assets with hashing and inlining.\n\n**@sveltejs/enhanced-img**: Build-time plugin generating avif/webp formats, multiple sizes, and intrinsic dimensions.\n```svelte\n\u003Cenhanced:img src=\"./image.jpg\" alt=\"text\" />\n```\n\nDynamic imports:\n```svelte\n\u003Cscript>\n\timport MyImage from './image.jpg?enhanced';\n\u003C/script>\n\u003Cenhanced:img src={MyImage} alt=\"text\" />\n```\n\nResponsive sizing:\n```svelte\n\u003Cenhanced:img src=\"./image.png?w=1280;640;400\" sizes=\"(min-width:1920px) 1280px, (min-width:1080px) 640px, (min-width:768px) 400px\"/>\n```\n\nPer-image transforms:\n```svelte\n\u003Cenhanced:img src=\"./image.jpg?blur=15\" alt=\"text\" />\n```\n\n**CDN approach**: For dynamic/external images using `@unpic/svelte` or provider-specific libraries.\n\n**Best practices**: Mix approaches as needed, serve via CDN, provide 2x resolution images, use `sizes` for large images, set `fetchpriority=\"high\"` for LCP images, avoid `em`/`rem` in `sizes`.\n\n### accessibility\nSvelteKit provides built-in accessibility features: route announcements via live regions, focus management after navigation, and language attribute configuration.\n\n## Route announcements\nEvery page needs a unique `\u003Ctitle>` in `\u003Csvelte:head>` so screen readers announce page changes during client-side navigation.\n\n## Focus management\nSvelteKit focuses `\u003Cbody>` after navigation (or an `autofocus` element if present). Customize with `afterNavigate` hook. The `goto` function has a `keepFocus` option to preserve focus.\n\n## Language attribute\nSet `lang` attribute on `\u003Chtml>` in `src/app.html`. Use the `handle` hook to set it dynamically for multi-language apps.\n\n### seo\nTechnical SEO best practices for SvelteKit: leverage built-in SSR and performance, set page metadata, create sitemaps, and optionally support AMP.\n\n**Out of box**: SSR enabled by default (better indexing), minimal performance overhead, automatic trailing slash normalization.\n\n**Manual setup**: Add unique `\u003Ctitle>` and `\u003Cmeta name=\"description\">` to each page in `\u003Csvelte:head>`. Create sitemaps via `src/routes/sitemap.xml/+server.js` endpoint. For AMP support, set `inlineStyleThreshold: Infinity`, disable `csr`, add `amp` to `\u003Chtml>`, and transform with `@sveltejs/amp` in hooks.\n\n","## Authentication and Authorization\nSessions are revocable but require DB queries; JWT offer better latency but can't be revoked. Check auth cookies in server hooks and store user info in `locals`. Use framework-specific libraries like Lucia.\n\n## Performance\nSvelteKit handles code-splitting, asset preloading, file hashing, request coalescing, parallel loading, data inlining, conservative invalidation, prerendering, and link preloading.\n\nDiagnose with PageSpeed Insights, WebPageTest, or browser devtools (Lighthouse, Network, Performance tabs). Instrument slow APIs with OpenTelemetry or Server-Timing headers.\n\nOptimize images with `@sveltejs/enhanced-img`, compress videos to `.webm`/`.mp4` with lazy-loading, preload fonts via `resolve` with `preload` filter in `handle` hook. Find large packages with `rollup-plugin-visualizer`. Replace JS analytics with server-side solutions. Use Partytown for third-party scripts. Use dynamic `import(...)` for conditional code.\n\nPreload links (default enabled), return promises from `load` for streaming non-essential data, use server `load` instead of universal to avoid waterfalls. Deploy frontend near backend or use edge deployment, serve images from CDN, use HTTP/2+.\n\n## Icons\nUse Iconify for CSS-based icons. Avoid icon libraries with one `.svelte` file per icon as they slow down Vite's dependency optimization.\n\n## Images\nVite auto-processes imported assets with hashing and inlining. `@sveltejs/enhanced-img` generates avif/webp formats, multiple sizes, and intrinsic dimensions:\n```svelte\n\u003Cenhanced:img src=\"./image.jpg?w=1280;640;400\" sizes=\"(min-width:1920px) 1280px, (min-width:1080px) 640px, (min-width:768px) 400px\" fetchpriority=\"high\" alt=\"text\" />\n```\nFor dynamic/external images use `@unpic/svelte` or provider-specific libraries. Serve via CDN, provide 2x resolution images, set `fetchpriority=\"high\"` for LCP images.\n\n## Accessibility\nEvery page needs a unique `\u003Ctitle>` in `\u003Csvelte:head>` for screen reader announcements. SvelteKit focuses `\u003Cbody>` after navigation (or an `autofocus` element if present). Customize with `afterNavigate` hook. Set `lang` attribute on `\u003Chtml>` in `src/app.html` or dynamically via `handle` hook.\n\n## SEO\nSSR enabled by default with minimal performance overhead and automatic trailing slash normalization. Add unique `\u003Ctitle>` and `\u003Cmeta name=\"description\">` to each page in `\u003Csvelte:head>`. Create sitemaps via `src/routes/sitemap.xml/+server.js` endpoint. For AMP support, set `inlineStyleThreshold: Infinity`, disable `csr`, add `amp` to `\u003Chtml>`, and transform with `@sveltejs/amp` in hooks.","## Authentication\nSessions are revocable but require DB queries; JWT offer better latency but can't be revoked. Check auth cookies in server hooks, store user info in `locals`, use Lucia.\n\n## Performance\nSvelteKit handles code-splitting, preloading, hashing, and prerendering. Optimize images with `@sveltejs/enhanced-img`, compress videos, preload fonts. Use `rollup-plugin-visualizer` to find large packages. Return promises from `load` for streaming, use server `load` to avoid waterfalls. Deploy near backend, serve images from CDN.\n\n## Icons & Images\nUse Iconify for CSS icons. Avoid per-icon `.svelte` files. Use `@sveltejs/enhanced-img` for responsive images with multiple formats:\n```svelte\n\u003Cenhanced:img src=\"./image.jpg?w=1280;640;400\" sizes=\"(min-width:1920px) 1280px, (min-width:1080px) 640px\" fetchpriority=\"high\" alt=\"text\" />\n```\n\n## Accessibility\nAdd unique `\u003Ctitle>` in `\u003Csvelte:head>` for screen readers. SvelteKit focuses `\u003Cbody>` after navigation. Set `lang` on `\u003Chtml>`.\n\n## SEO\nSSR enabled by default. Add unique `\u003Ctitle>` and `\u003Cmeta name=\"description\">` per page. Create sitemaps via `src/routes/sitemap.xml/+server.js`.","Production-ready patterns for authentication, performance optimization, accessibility, SEO, and asset handling in SvelteKit applications."],"uses":{"params":["name","path"]}}]}
