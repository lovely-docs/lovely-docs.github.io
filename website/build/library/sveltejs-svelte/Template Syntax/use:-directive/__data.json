{"type":"data","nodes":[{"type":"data","data":[null],"uses":{}},{"type":"data","data":[{"libraryName":1,"itemPath":2,"docItem":3},"sveltejs-svelte","Template Syntax/use:-directive",{"type":4,"path":5,"relevant":6,"token_counts":7,"usage":11,"markdown":15},"page","03-template-syntax/13-use.md",true,{"fulltext":8,"digest":9,"short_digest":10},657,445,136,{"input":12,"output":13,"details":14},1696,693,null,{"fulltext":16,"digest":17,"short_digest":18,"essence":19},"---\ntitle: use:\n---\n\n> [!NOTE]\n> In Svelte 5.29 and newer, consider using [attachments](@attach) instead, as they are more flexible and composable.\n\nActions are functions that are called when an element is mounted. They are added with the `use:` directive, and will typically use an `$effect` so that they can reset any state when the element is unmounted:\n\n```svelte\n\u003C!--- file: App.svelte --->\n\u003Cscript>\n\t/** @type {import('svelte/action').Action} */\n\tfunction myaction(node) {\n\t\t// the node has been mounted in the DOM\n\n\t\t$effect(() => {\n\t\t\t// setup goes here\n\n\t\t\treturn () => {\n\t\t\t\t// teardown goes here\n\t\t\t};\n\t\t});\n\t}\n\u003C/script>\n\n\u003Cdiv use:myaction>...\u003C/div>\n```\n\nAn action can be called with an argument:\n\n```svelte\n\u003C!--- file: App.svelte --->\n\u003Cscript>\n\t/** @type {import('svelte/action').Action} */\n\tfunction myaction(node, +++data+++) {\n\t\t// ...\n\t}\n\u003C/script>\n\n\u003Cdiv use:myaction={+++data+++}>...\u003C/div>\n```\n\nThe action is only called once (but not during server-side rendering) — it will _not_ run again if the argument changes.\n\n> [!LEGACY]\n> Prior to the `$effect` rune, actions could return an object with `update` and `destroy` methods, where `update` would be called with the latest value of the argument if it changed. Using effects is preferred.\n\n## Typing\n\nThe `Action` interface receives three optional type arguments — a node type (which can be `Element`, if the action applies to everything), a parameter, and any custom event handlers created by the action:\n\n```svelte\n\u003C!--- file: App.svelte --->\n\u003Cscript>\n\t/**\n\t * @type {import('svelte/action').Action\u003C\n\t * \tHTMLDivElement,\n\t * \tundefined,\n\t * \t{\n\t * \t\tonswiperight: (e: CustomEvent) => void;\n\t * \t\tonswipeleft: (e: CustomEvent) => void;\n\t * \t\t// ...\n\t * \t}\n\t * >}\n\t */\n\tfunction gestures(node) {\n\t\t$effect(() => {\n\t\t\t// ...\n\t\t\tnode.dispatchEvent(new CustomEvent('swipeleft'));\n\n\t\t\t// ...\n\t\t\tnode.dispatchEvent(new CustomEvent('swiperight'));\n\t\t});\n\t}\n\u003C/script>\n\n\u003Cdiv\n\tuse:gestures\n\tonswipeleft={next}\n\tonswiperight={prev}\n>...\u003C/div>\n```\n","## Actions with use: directive\n\nActions are functions called when an element is mounted, added via the `use:` directive. They typically use `$effect` for setup and teardown:\n\n```svelte\n\u003Cscript>\n\tfunction myaction(node) {\n\t\t$effect(() => {\n\t\t\t// setup\n\t\t\treturn () => {\n\t\t\t\t// teardown\n\t\t\t};\n\t\t});\n\t}\n\u003C/script>\n\n\u003Cdiv use:myaction>...\u003C/div>\n```\n\nActions can accept arguments:\n\n```svelte\n\u003Cscript>\n\tfunction myaction(node, data) {\n\t\t// ...\n\t}\n\u003C/script>\n\n\u003Cdiv use:myaction={data}>...\u003C/div>\n```\n\nThe action runs once on mount (not during SSR) and does not re-run if the argument changes.\n\n## Typing\n\nThe `Action` interface accepts three optional type arguments: node type (e.g., `HTMLDivElement` or `Element`), parameter type, and custom event handlers:\n\n```svelte\n\u003Cscript>\n\t/**\n\t * @type {import('svelte/action').Action\u003C\n\t * \tHTMLDivElement,\n\t * \tundefined,\n\t * \t{\n\t * \t\tonswiperight: (e: CustomEvent) => void;\n\t * \t\tonswipeleft: (e: CustomEvent) => void;\n\t * \t}\n\t * >}\n\t */\n\tfunction gestures(node) {\n\t\t$effect(() => {\n\t\t\tnode.dispatchEvent(new CustomEvent('swipeleft'));\n\t\t\tnode.dispatchEvent(new CustomEvent('swiperight'));\n\t\t});\n\t}\n\u003C/script>\n\n\u003Cdiv use:gestures onswipeleft={next} onswiperight={prev}>...\u003C/div>\n```\n\nNote: In Svelte 5.29+, attachments are recommended as a more flexible alternative.","## use: directive for actions\n\nActions are functions called on element mount via `use:` directive with `$effect` for setup/teardown:\n\n```svelte\nfunction myaction(node, data) {\n\t$effect(() => {\n\t\t// setup\n\t\treturn () => { /* teardown */ };\n\t});\n}\n\n\u003Cdiv use:myaction={data}>...\u003C/div>\n```\n\nType actions with `Action\u003CNodeType, ParamType, EventHandlers>` interface. Actions run once on mount, not during SSR, and don't re-run if arguments change.","The use: directive attaches action functions to elements on mount, with setup/teardown via $effect and optional typing."],"uses":{"params":["name","path"]}}]}
