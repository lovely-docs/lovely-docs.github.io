Split state into AI State (serializable JSON for LLM, server/client accessible) and UI State (client-only React components); use createAI context provider with useUIState/useAIState/getAIState/getMutableAIState hooks and useActions to call Server Actions.