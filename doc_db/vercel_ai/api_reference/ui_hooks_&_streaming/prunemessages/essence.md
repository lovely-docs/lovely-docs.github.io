pruneMessages() filters ModelMessage arrays to reduce token usage by removing reasoning, tool calls, and empty messages with configurable strategies per option type.